{"ast":null,"code":"import _classCallCheck from\"/Users/anzhelika/Desktop/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/anzhelika/Desktop/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}},{key:\"_request\",value:function _request(url,options){return fetch(url,options).then(this._checkResponse);}},{key:\"getDdataUser\",value:function getDdataUser(){return this._request(\"\".concat(this._url,\"/users/me\"),{method:'GET',headers:this._headers});}},{key:\"editAvatarUser\",value:function editAvatarUser(avatar){return this._request(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})});}},{key:\"editDdataUser\",value:function editDdataUser(name,about){return this._request(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})});}},{key:\"getInicialCards\",value:function getInicialCards(){return this._request(\"\".concat(this._url,\"/cards \"),{method:'GET',headers:this._headers});}},{key:\"addNewCard\",value:function addNewCard(name,link){return this._request(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})});}},{key:\"deleteLikeCard\",value:function deleteLikeCard(_id){return this._request(\"\".concat(this._url,\"/cards/\").concat(_id,\"/likes\"),{method:'DELETE',headers:this._headers});}},{key:\"likeCard\",value:function likeCard(_id){return this._request(\"\".concat(this._url,\"/cards/\").concat(_id,\"/likes\"),{method:'PUT',headers:this._headers});}},{key:\"deliteCard\",value:function deliteCard(_id){return this._request(\"\".concat(this._url,\"/cards/\").concat(_id),{method:'DELETE',headers:this._headers});}}]);return Api;}();var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-50',headers:{'Content-Type':'application/json',authorization:'653fc287-1617-4fdf-ab2c-e8fd91183c7f'}});export default api;","map":{"version":3,"names":["Api","config","_url","url","_headers","headers","res","ok","json","Promise","reject","status","options","fetch","then","_checkResponse","_request","method","avatar","body","JSON","stringify","name","about","link","_id","api","authorization"],"sources":["/Users/anzhelika/Desktop/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  _request(url, options) {\n    return fetch(url, options).then(this._checkResponse);\n  }\n\n  getDdataUser() {\n    return this._request(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    });\n  }\n\n  editAvatarUser(avatar) {\n    return this._request(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    });\n  }\n\n  editDdataUser(name, about) {\n    return this._request(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    });\n  }\n\n  getInicialCards() {\n    return this._request(`${this._url}/cards `, {\n      method: 'GET',\n      headers: this._headers\n    });\n  }\n\n  addNewCard(name, link) {\n    return this._request(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    });\n  }\n\n  deleteLikeCard(_id) {\n    return this._request(`${this._url}/cards/${_id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers,\n    });\n  }\n\n  likeCard(_id) {\n    return this._request(`${this._url}/cards/${_id}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    });\n  }\n\n  deliteCard(_id) {\n    return this._request(`${this._url}/cards/${_id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    });\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-50',\n  headers: {\n    'Content-Type': 'application/json',\n    authorization: '653fc287-1617-4fdf-ab2c-e8fd91183c7f'\n  }\n});\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module"}